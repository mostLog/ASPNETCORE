(function(){var n=layui.layer,u=layui.$,i=layui.form,r=core.services.spidertaskservice,t=layui.table,f=t.render({elem:"#task-table",url:"/SpiderTask/GetPagedList/",cellMinWidth:100,cols:[[{checkbox:!0,fixed:!0},{field:"spiderId",title:"任务id",width:120},{field:"name",title:"任务名称",width:200},{field:"description",title:"任务描述"},{field:"crawlerType",title:"爬取模式",width:120,templet:"#task-crawlerType"},{field:"urls",title:"爬取地址",width:400},{field:"isRecurrent",title:"定时任务",width:140,align:"center",unresize:!0,templet:"#is-recurrent"},{fixed:"right",title:"操作",width:200,align:"center",toolbar:"#task-bar"}]],page:!0,height:315});t.on("tool(task-table)",function(t){var i=t.data,u=t.event;u==="edit"?n.open({title:"编辑任务",type:2,content:"/SpiderTask/AddOrEditSpiderTask/"+i.id,area:["100%","100%"]}):u==="del"&&n.confirm("你确定要删除吗？",function(u){t.del();n.close(u);r.deleteTask({Id:i.id}).done(function(t){t||t==-1||n.msg("删除成功！")})})});i.on("switch(isRecurrent)",function(t){n.tips(this.value+" "+this.name+"："+t.elem.checked,t.othis)});new Vue({el:"#app",data:function(){return{visible:!1}},methods:{openAddDialog:function(){n.open({title:"添加任务",type:2,content:"/SpiderTask/AddOrEditSpiderTask",area:["100%","100%"]})}}})})();